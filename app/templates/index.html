{% extends "base.html" %}

{% block title %}AI Judges Panel - Evaluaci√≥n Multi-Agente de LLMs{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <div class="row mb-5">
        <div class="col-lg-12 text-center">
            <div class="hero-section bg-gradient p-5 rounded shadow-lg">
                <h1 class="display-4 text-white mb-4">
                    <i class="fas fa-balance-scale me-3"></i>
                    AI Judges Panel
                </h1>
                <p class="lead text-white mb-4">
                    Sistema de evaluaci√≥n multi-agente donde jueces especializados de IA eval√∫an 
                    respuestas de LLMs desde m√∫ltiples perspectivas usando modelos de Hugging Face
                </p>
                <a href="/evaluate" class="btn btn-light btn-lg me-3">
                    <i class="fas fa-play me-2"></i>Comenzar Evaluaci√≥n
                </a>
                <a href="/about" class="btn btn-outline-light btn-lg">
                    <i class="fas fa-info-circle me-2"></i>Saber M√°s
                </a>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="row mb-5">
        <div class="col-lg-12">
            <h2 class="text-center mb-5">
                <i class="fas fa-star me-2"></i>
                Caracter√≠sticas del Sistema
            </h2>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-users fa-3x text-primary"></i>
                    </div>
                    <h4 class="card-title">Panel de Jueces Especializado</h4>
                    <p class="card-text">
                        Cinco jueces especializados eval√∫an precisi√≥n, coherencia, 
                        relevancia, eficiencia y creatividad usando modelos de HuggingFace.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-chart-line fa-3x text-success"></i>
                    </div>
                    <h4 class="card-title">Evaluaci√≥n Comprehensiva</h4>
                    <p class="card-text">
                        Combina scores individuales con an√°lisis de consenso 
                        y feedback detallado para una evaluaci√≥n hol√≠stica.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-code fa-3x text-info"></i>
                    </div>
                    <h4 class="card-title">API RESTful</h4>
                    <p class="card-text">
                        API completa para integraci√≥n con evaluaci√≥n individual, 
                        por lotes, comparaci√≥n y gesti√≥n personalizada.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Judges Section -->
    <div class="row mb-5">
        <div class="col-lg-12">
            <h2 class="text-center mb-5">
                <i class="fas fa-gavel me-2"></i>
                Nuestro Panel de Jueces
            </h2>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="judge-card text-center p-4 rounded shadow-sm">
                <div class="judge-icon mb-3">
                    <i class="fas fa-bullseye fa-2x text-danger"></i>
                </div>
                <h5>üéØ Dr. Precisi√≥n</h5>
                <p class="small text-muted">
                    Eval√∫a factualidad, exactitud y ausencia de alucinaciones
                </p>
            </div>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="judge-card text-center p-4 rounded shadow-sm">
                <div class="judge-icon mb-3">
                    <i class="fas fa-brain fa-2x text-primary"></i>
                </div>
                <h5>üß† Prof. Coherencia</h5>
                <p class="small text-muted">
                    Analiza l√≥gica interna, estructura y fluidez narrativa
                </p>
            </div>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="judge-card text-center p-4 rounded shadow-sm">
                <div class="judge-icon mb-3">
                    <i class="fas fa-target fa-2x text-warning"></i>
                </div>
                <h5>üé™ Lic. Relevancia</h5>
                <p class="small text-muted">
                    Verifica pertinencia y completitud de la respuesta
                </p>
            </div>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="judge-card text-center p-4 rounded shadow-sm">
                <div class="judge-icon mb-3">
                    <i class="fas fa-tachometer-alt fa-2x text-success"></i>
                </div>
                <h5>‚ö° Ed. Eficiencia</h5>
                <p class="small text-muted">
                    Eval√∫a concisi√≥n, claridad y facilidad de lectura
                </p>
            </div>
        </div>
        
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="judge-card text-center p-4 rounded shadow-sm">
                <div class="judge-icon mb-3">
                    <i class="fas fa-palette fa-2x text-info"></i>
                </div>
                <h5>üé® Dra. Creatividad</h5>
                <p class="small text-muted">
                    Mide originalidad, innovaci√≥n y diversidad l√©xica
                </p>
            </div>
        </div>
    </div>

    <!-- Quick Start Section -->
    <div class="row mb-5">
        <div class="col-lg-12">
            <div class="card bg-light">
                <div class="card-body">
                    <h3 class="text-center mb-4">
                        <i class="fas fa-rocket me-2"></i>
                        Inicio R√°pido
                    </h3>
                    
                    <div class="row">
                        <div class="col-md-4 text-center mb-3">
                            <div class="step-number">1</div>
                            <h5>Ingresa tu Prompt</h5>
                            <p>Escribe la pregunta o tarea que quieres evaluar</p>
                        </div>
                        <div class="col-md-4 text-center mb-3">
                            <div class="step-number">2</div>
                            <h5>Ingresa la Respuesta</h5>
                            <p>Pega la respuesta del LLM que quieres evaluar</p>
                        </div>
                        <div class="col-md-4 text-center mb-3">
                            <div class="step-number">3</div>
                            <h5>Obt√©n Evaluaci√≥n</h5>
                            <p>Recibe scores detallados y feedback espec√≠fico</p>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <a href="/evaluate" class="btn btn-primary btn-lg">
                            <i class="fas fa-play me-2"></i>
                            Probar Ahora
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Section -->
    <div class="row">
        <div class="col-lg-12">
            <div class="card border-success">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0">
                        <i class="fas fa-heartbeat me-2"></i>
                        Estado del Sistema
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-md-3 mb-3">
                            <div class="status-item">
                                <i class="fas fa-check-circle fa-2x text-success"></i>
                                <h6 class="mt-2">Sistema</h6>
                                <span class="badge bg-success">Activo</span>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="status-item">
                                <i class="fas fa-users fa-2x text-primary"></i>
                                <h6 class="mt-2">Jueces</h6>
                                <span id="judges-status" class="badge bg-primary">Cargando...</span>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="status-item">
                                <i class="fas fa-database fa-2x text-info"></i>
                                <h6 class="mt-2">API</h6>
                                <span class="badge bg-info">v1.0.0</span>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="status-item">
                                <i class="fas fa-rocket fa-2x text-warning"></i>
                                <h6 class="mt-2">Despliegue</h6>
                                <span class="badge bg-warning text-dark">Railway</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.feature-icon {
    padding: 20px;
    border-radius: 50%;
    display: inline-block;
}

.judge-card {
    background: white;
    border: 1px solid #e9ecef;
    transition: all 0.3s ease;
}

.judge-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.step-number {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #007bff;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.2rem;
    margin: 0 auto 15px auto;
}

.status-item {
    padding: 15px;
    border-radius: 10px;
    background: #f8f9fa;
}
</style>
{% endblock %}

{% block extra_scripts %}
<script>
// Check judges status
async function checkJudgesStatus() {
    try {
        const response = await fetch('/api/v1/judges');
        const data = await response.json();
        
        const statusElement = document.getElementById('judges-status');
        if (data.panel_ready) {
            statusElement.textContent = `${data.total_judges} Listos`;
            statusElement.className = 'badge bg-success';
        } else {
            statusElement.textContent = 'Inicializando...';
            statusElement.className = 'badge bg-warning text-dark';
        }
    } catch (error) {
        document.getElementById('judges-status').textContent = 'Error';
        document.getElementById('judges-status').className = 'badge bg-danger';
    }
}

// Check status on page load
document.addEventListener('DOMContentLoaded', checkJudgesStatus);
</script>
{% endblock %}
